import '#/styles/globals.css';
import NotionService from '../services/notion';

const renderFacebookSVG = () => (
  <svg viewBox="0 0 36 36" fill="url(#jsc_s_2)" height="40" width="40">
    <defs>
      <linearGradient x1="50%" x2="50%" y1="97.0782153%" y2="0%" id="jsc_s_2">
        <stop offset="0%" stopColor="#0062E0"></stop>
        <stop offset="100%" stopColor="#19AFFF"></stop>
      </linearGradient>
    </defs>
    <path d="M15 35.8C6.5 34.3 0 26.9 0 18 0 8.1 8.1 0 18 0s18 8.1 18 18c0 8.9-6.5 16.3-15 17.8l-1-.8h-4l-1 .8z"></path>
    <path
      fill="white"
      d="M25 23l.8-5H21v-3.5c0-1.4.5-2.5 2.7-2.5H26V7.4c-1.3-.2-2.7-.4-4-.4-4.1 0-7 2.5-7 7v4h-4.5v5H15v12.7c1 .2 2 .3 3 .3s2-.1 3-.3V23h4z"
    ></path>
  </svg>
);

const renderInstagramSVG = () => (
  <svg
    className="h-10 w-10"
    xmlns="http://www.w3.org/2000/svg"
    width="102"
    height="102"
    viewBox="0 0 102 102"
  >
    <defs>
      <radialGradient
        id="a"
        cx="6.601"
        cy="99.766"
        r="129.502"
        gradientUnits="userSpaceOnUse"
      >
        <stop offset=".09" stopColor="#fa8f21" />
        <stop offset=".78" stopColor="#d82d7e" />
      </radialGradient>
      <radialGradient
        id="b"
        cx="70.652"
        cy="96.49"
        r="113.963"
        gradientUnits="userSpaceOnUse"
      >
        <stop offset=".64" stopColor="#8c3aaa" stopOpacity="0" />
        <stop offset="1" stopColor="#8c3aaa" />
      </radialGradient>
    </defs>
    <path
      fill="url(#a)"
      d="M25.865,101.639A34.341,34.341,0,0,1,14.312,99.5a19.329,19.329,0,0,1-7.154-4.653A19.181,19.181,0,0,1,2.5,87.694,34.341,34.341,0,0,1,.364,76.142C.061,69.584,0,67.617,0,51s.067-18.577.361-25.14A34.534,34.534,0,0,1,2.5,14.312,19.4,19.4,0,0,1,7.154,7.154,19.206,19.206,0,0,1,14.309,2.5,34.341,34.341,0,0,1,25.862.361C32.422.061,34.392,0,51,0s18.577.067,25.14.361A34.534,34.534,0,0,1,87.691,2.5a19.254,19.254,0,0,1,7.154,4.653A19.267,19.267,0,0,1,99.5,14.309a34.341,34.341,0,0,1,2.14,11.553c.3,6.563.361,8.528.361,25.14s-.061,18.577-.361,25.14A34.5,34.5,0,0,1,99.5,87.694,20.6,20.6,0,0,1,87.691,99.5a34.342,34.342,0,0,1-11.553,2.14c-6.557.3-8.528.361-25.14.361s-18.577-.058-25.134-.361"
      data-name="Path 16"
    />
    <path
      fill="url(#b)"
      d="M25.865,101.639A34.341,34.341,0,0,1,14.312,99.5a19.329,19.329,0,0,1-7.154-4.653A19.181,19.181,0,0,1,2.5,87.694,34.341,34.341,0,0,1,.364,76.142C.061,69.584,0,67.617,0,51s.067-18.577.361-25.14A34.534,34.534,0,0,1,2.5,14.312,19.4,19.4,0,0,1,7.154,7.154,19.206,19.206,0,0,1,14.309,2.5,34.341,34.341,0,0,1,25.862.361C32.422.061,34.392,0,51,0s18.577.067,25.14.361A34.534,34.534,0,0,1,87.691,2.5a19.254,19.254,0,0,1,7.154,4.653A19.267,19.267,0,0,1,99.5,14.309a34.341,34.341,0,0,1,2.14,11.553c.3,6.563.361,8.528.361,25.14s-.061,18.577-.361,25.14A34.5,34.5,0,0,1,99.5,87.694,20.6,20.6,0,0,1,87.691,99.5a34.342,34.342,0,0,1-11.553,2.14c-6.557.3-8.528.361-25.14.361s-18.577-.058-25.134-.361"
      data-name="Path 17"
    />
    <path
      fill="#fff"
      d="M461.114,477.413a12.631,12.631,0,1,1,12.629,12.632,12.631,12.631,0,0,1-12.629-12.632m-6.829,0a19.458,19.458,0,1,0,19.458-19.458,19.457,19.457,0,0,0-19.458,19.458m35.139-20.229a4.547,4.547,0,1,0,4.549-4.545h0a4.549,4.549,0,0,0-4.547,4.545m-30.99,51.074a20.943,20.943,0,0,1-7.037-1.3,12.547,12.547,0,0,1-7.193-7.19,20.923,20.923,0,0,1-1.3-7.037c-.184-3.994-.22-5.194-.22-15.313s.04-11.316.22-15.314a21.082,21.082,0,0,1,1.3-7.037,12.54,12.54,0,0,1,7.193-7.193,20.924,20.924,0,0,1,7.037-1.3c3.994-.184,5.194-.22,15.309-.22s11.316.039,15.314.221a21.082,21.082,0,0,1,7.037,1.3,12.541,12.541,0,0,1,7.193,7.193,20.926,20.926,0,0,1,1.3,7.037c.184,4,.22,5.194.22,15.314s-.037,11.316-.22,15.314a21.023,21.023,0,0,1-1.3,7.037,12.547,12.547,0,0,1-7.193,7.19,20.925,20.925,0,0,1-7.037,1.3c-3.994.184-5.194.22-15.314.22s-11.316-.037-15.309-.22m-.314-68.509a27.786,27.786,0,0,0-9.2,1.76,19.373,19.373,0,0,0-11.083,11.083,27.794,27.794,0,0,0-1.76,9.2c-.187,4.04-.229,5.332-.229,15.623s.043,11.582.229,15.623a27.793,27.793,0,0,0,1.76,9.2,19.374,19.374,0,0,0,11.083,11.083,27.813,27.813,0,0,0,9.2,1.76c4.042.184,5.332.229,15.623.229s11.582-.043,15.623-.229a27.8,27.8,0,0,0,9.2-1.76,19.374,19.374,0,0,0,11.083-11.083,27.716,27.716,0,0,0,1.76-9.2c.184-4.043.226-5.332.226-15.623s-.043-11.582-.226-15.623a27.786,27.786,0,0,0-1.76-9.2,19.379,19.379,0,0,0-11.08-11.083,27.748,27.748,0,0,0-9.2-1.76c-4.041-.185-5.332-.229-15.621-.229s-11.583.043-15.626.229"
      data-name="Path 18"
      transform="translate(-422.637 -426.196)"
    />
  </svg>
);

const renderLogo = () => (
  <div className="css-175z8cs">
    <div className="css-1h3rtzg css-f7ay7b css-5p9vjy css-zjik7">
      <div className="css-1h3rtzg css-f7ay7b css-ln7vnr css-zjik7">
        <div
          className="css-1l1io5o"
          style={{ width: '30px', height: '30px', borderWidth: '3px' }}
        ></div>
      </div>
      <div
        className="css-joi6zj"
        style={{ background: 'rgb(40, 62, 86)', boxShadow: 'none' }}
      ></div>
      <div className="css-1vs2kf0">
        <div>
          <svg
            width="339.46009583965366"
            height="347.41875"
            viewBox="0 0 312.5 319.82657374339226"
            className="css-1j8o68f"
          >
            <defs id="SvgjsDefs3329"></defs>
            <g
              id="SvgjsG3330"
              transform="matrix(3.021815129688323,0,0,3.021815129688323,-0.3742275421386347,0.11851630326547433)"
              fill="#ffffff"
            >
              <g xmlns="http://www.w3.org/2000/svg">
                <path d="M40.7 103.4a3 3 0 0 0-1.9-.4c.3.8-.2.8-.7.7s-1-.6-1.5 0 2 .4 3 .8a.9.9 0 0 0 1.1 0 3.7 3.7 0 0 0 0-1.1zM11.9 87c-.7-.2-1.1-.6-1.7-.8s-.5-.7-.8-1.1H9a2 2 0 0 0 1.1 1.6 4.7 4.7 0 0 0 1.5 1.8c0-.5 1.8-1.2.3-1.5zm3.5 4.5a2.4 2.4 0 0 1-1.1-1.1.2.2 0 0 0-.4 0l-.4.4 2.2 1.9V92zm-7.5-8.6h-.8l1.1 1.5a.8.8 0 0 0 .4-.7.3.3 0 0 0 .1-.4 1 1 0 0 0-.8-.4zm2.4-62.1c0-.4.1-.8-.6-.7h-.3L9 21.6c.7.2 1.1-.2 1.3-.8zm17.8 79.3v.7h.7c.2 0 .6-.1.5-.3s-.8-.4-1.2-.4z"></path>
                <path d="M103.4 57.2v-2.3c0-1.2.5-2.5-.4-3.7v-.4a6 6 0 0 0 0-4.2l-.2-1.4-.3-1.6v-.8c-.2-1 .1-2.1-1.1-2.7a.2.2 0 0 0 0-.2v-1.1a3.7 3.7 0 0 0-.8-1.9c-.2-.7-.2-1.4-.7-2v-.6l-.4-1.2c-.2-.5-.2-1.1-.7-1.5l-3-5.9h-.3V25l-1-.9c-1.1-1.7-2-3.6-3.4-5.1l-.4-.8-.8-.3-.7-.8-3.2-3.7h-.4c-.1-.3-.4-.3-.7-.3a4 4 0 0 0-2.7-1.9c-.3-1.4-1.5-1.7-2.6-2.2l-.3-.3a2.1 2.1 0 0 0-1.5-.8l-.4-.7h-.7l-3.5-2.1C72 5 71 4.1 69.8 3.7h-.7A1 1 0 0 0 68 3l-1.8-.5-1.5-.6-.8-.4h-.7l-1.5-.3a1.1 1.1 0 0 0-1.1.3c-.1-.7-.7-.7-1.2-.8h-.7l-1 .3c-.5-1.2-1.6-.5-2.4-.7L53.5 0h-.4c-1.1.1-2.3-.3-3.4.3h-4.5l-.4.4h-2.2l-1.9.3c-.8.2-1.6.1-2.3.7a3.7 3.7 0 0 1-2.6.1l-1.1.6h-.4l-.3.2a2 2 0 0 0-1.4.7h-.1l-.9.4h-.1c-.3-.1-.6.2-.9.1l-.3.4-.8.6c-.2-.3-.4-.2-.7-.2v.7a1.8 1.8 0 0 0-1.9.4h-.7l-1.2 1h.2l-.8.8H24a2.5 2.5 0 0 0-1.9 1.4c-.6.5-1.5.6-1.9 1.4h-.3v.4a2 2 0 0 0-1.6 1.1 2.3 2.3 0 0 0-1.1 1.2 1.7 1.7 0 0 0-1.5 1.1 4.5 4.5 0 0 0-1.9 1.9l-.3.4c.2.4.9.4 1.4.5a50.9 50.9 0 0 0 28.6 86.2.8.8 0 0 0 .7.3h.7a51.3 51.3 0 0 0 6 .4h.8a1.4 1.4 0 0 1 .1.6c-1.5.9-3.1-1.4-4.6.1.3.3.8.3.8.9l4.8.4H54a2 2 0 0 1 0-.3 3.4 3.4 0 0 0 1.8-.5c.6-.1 1.2 1 1.7-.1.9 0 1.9.4 2.6-.7h.1c.9 0 1.9.6 2.6-.4l2.6-.3.4.2 2.3-1.3h1c.6.2 1-.2 1.3-.7s2.1-1 3.3-1a3 3 0 0 0 2.7-1.2l2.6-1.7c.7.1.9-.7 1.4-.8s.9-.8 1.5-1.1l.3-.3h.1c.4.1.6-.2.7-.5l.4-.4 2.3-2.6 1.1-1.1.7-.4c.6.1.7-.6 1.1-.8l.9-1.1.6-.4a1.9 1.9 0 0 0 1.3-1.3v-.2a1.8 1.8 0 0 0 .5-.7h.2a1.5 1.5 0 0 0 .5-.5c-.1-.9 1.1-1.1 1.1-2l.9-1.4a1.9 1.9 0 0 0 1.2-1.7c.2-.5.8-.7.6-1.4l.8-.8v-.9c.3 0 .5-.3.7-.5l.4-.7.7-1.6.4-1 .8-1.8.3-.4.2-1.1.5-1.4a1.2 1.2 0 0 0 .3-1.2c.5-.2.3-.7.5-1.1a.5.5 0 0 1 0-.4V65c.5-.5.4-1.1.4-1.7v-.5c.6-.9.2-2.1.6-3s-.3-.6.1-.8h.3v-1h-.1zm-2.9-19.5zM82.2 11.9zM65.8 3zm0 0zM56.4.8zm.1 103zm39.9-24.9zM102 62z"></path>
              </g>
            </g>
            <g
              id="SvgjsG3331"
              transform="matrix(1.7547439079573417,0,0,1.7547439079573417,68.59502810064288,49.42942240393704)"
              fill="#283e56"
            >
              <path
                xmlns="http://www.w3.org/2000/svg"
                d="M52.094,93.749c0.001,0,11.108-7.41,0.883-22.909c-4.773-7.235-12.596-14.971-11.701-22.63  c-1.015,0.883-1.937,1.859-2.38,2.453c-1.618,2.169-2.791,4.529-3.392,6.964c-0.697,2.823-0.515,5.795,1.102,8.686  c1.501,2.683,4.107,5.103,6.558,7.537c5.868,5.826,11.036,12.018,9.461,18.607C52.541,92.811,52.5,93.478,52.094,93.749z"
              ></path>
              <path
                xmlns="http://www.w3.org/2000/svg"
                d="M59.398,79.14c0.001-0.001,17.835-11.897,1.417-36.782C53.152,30.742,40.592,18.321,42.03,6.024  c-1.365,1.194-3.11,2.985-3.821,3.939c-2.598,3.482-4.481,7.271-5.446,11.181c-1.12,4.533-0.827,9.304,1.77,13.946  c2.41,4.308,6.594,8.193,10.53,12.102c9.421,9.355,17.719,19.295,15.19,29.876C60.116,77.635,60.049,78.706,59.398,79.14z"
              ></path>
            </g>
            <g
              id="SvgjsG3332"
              transform="matrix(0.8341501074348834,0,0,0.8341501074348834,55.332679655512145,222.38862884985076)"
              fill="#283e56"
            >
              <path d="M6.28 43.44 l-4.6 -0.12 l-0.88 -27.16 l12.8 -1 l-0.2 5.4 l-8.4 -0.44 l0.44 8.6 l5.12 -0.68 l0.28 4.64 l-4.68 0.08 z M23.995 36.88 l0.32 3.04 l-8.2 0.68 l-0.04 -3.72 l1.64 0 c0.2 -3.44 0.56 -13.4 0.52 -17.44 l-2.52 0.08 l0.12 -3.8 l8.24 0.16 l0.16 3.32 l-2.36 0.08 l0.24 17.6 l1.88 0 z M36.99 40.04 l-4.6 -10.32 c-0.44 0.08 -0.84 0.16 -1.2 0.2 l0.2 10.52 l-4.96 -0.36 l0.44 -25.36 l4.32 -0.56 c4.28 -0.56 8.04 2.28 8.28 6.72 c0.16 2.96 -0.88 5.4 -3.04 7.04 l4.64 9.44 z M31.03 22.4 l0.04 1.12 c0.68 0.12 4.04 0.48 4.2 -2.04 c0.2 -3.68 -2.56 -2.76 -3.92 -2.56 z M54.665000000000006 41.6 l-10.92 -0.2 l-0.56 -24.04 l10.68 -1.4 l-0.12 4.52 l-6.12 0 l0 7.64 l5.12 -0.44 l0.28 4.56 l-5.2 -0.08 l-0.28 5.8 l7.52 -0.28 z M75.97500000000001 42.52 l-4.92 -0.52 l-1.36 -25.28 l5.24 0.52 l0 17.2 l2.8 -9.92 l3.84 -0.32 l1.8 9.44 l1.52 -15.56 l5.32 -0.64 l-3.64 23.52 l-5 0.64 l-2.32 -9.36 z M104.13000000000001 41.48 l-1.24 -6 l-4.96 0.48 l-1 5.72 l-4.2 -1.12 l4.92 -26.24 l4.8 -0.4 l6.76 26.96 z M98.69000000000001 31.8 l3.32 -0.64 l-1.72 -8.36 z M124.805 15.280000000000001 l-0.36 4.72 l-4.12 0.16 l0.28 19.92 l-6.04 1 l1.12 -20.76 l-4.36 0.16 l0.12 -4.4 z M138 41.6 l-10.92 -0.2 l-0.56 -24.04 l10.68 -1.4 l-0.12 4.52 l-6.12 0 l0 7.64 l5.12 -0.44 l0.28 4.56 l-5.2 -0.08 l-0.28 5.8 l7.52 -0.28 z M151.075 40.04 l-4.6 -10.32 c-0.44 0.08 -0.84 0.16 -1.2 0.2 l0.2 10.52 l-4.96 -0.36 l0.44 -25.36 l4.32 -0.56 c4.28 -0.56 8.04 2.28 8.28 6.72 c0.16 2.96 -0.88 5.4 -3.04 7.04 l4.64 9.44 z M145.115 22.4 l0.04 1.12 c0.68 0.12 4.04 0.48 4.2 -2.04 c0.2 -3.68 -2.56 -2.76 -3.92 -2.56 z M182.865 15.280000000000001 l-0.36 4.72 l-4.12 0.16 l0.28 19.92 l-6.04 1 l1.12 -20.76 l-4.36 0.16 l0.12 -4.4 z M195.14000000000004 40.04 l-4.6 -10.32 c-0.44 0.08 -0.84 0.16 -1.2 0.2 l0.2 10.52 l-4.96 -0.36 l0.44 -25.36 l4.32 -0.56 c4.28 -0.56 8.04 2.28 8.28 6.72 c0.16 2.96 -0.88 5.4 -3.04 7.04 l4.64 9.44 z M189.18000000000004 22.4 l0.04 1.12 c0.68 0.12 4.04 0.48 4.2 -2.04 c0.2 -3.68 -2.56 -2.76 -3.92 -2.56 z M209.61500000000004 36.88 l0.32 3.04 l-8.2 0.68 l-0.04 -3.72 l1.64 0 c0.2 -3.44 0.56 -13.4 0.52 -17.44 l-2.52 0.08 l0.12 -3.8 l8.24 0.16 l0.16 3.32 l-2.36 0.08 l0.24 17.6 l1.88 0 z M226.53000000000003 34.8 c0.48 6.2 -5.6 7.72 -8.4 7.84 s-5.04 -0.36 -5.04 -0.36 l-1.04 -25.2 s2.44 -0.44 4.68 -0.56 c2.2 -0.12 6.4 0.16 6.64 5.4 c0.12 2.44 -1.16 4.16 -2.84 5.28 c2.96 0.64 5.6 2.48 6 7.6 z M219.41000000000003 21.76 c0.12 -2.44 -3.12 -1.48 -3.12 -1.48 l0.4 5.6 c1.4 -1.08 2.64 -2.68 2.72 -4.12 z M217.49000000000004 37.92 c0 0 4.24 -0.16 3.8 -3.64 c-0.4 -3.2 -2.56 -4.04 -4.32 -4.2 z M240.16500000000002 41.6 l-10.92 -0.2 l-0.56 -24.04 l10.68 -1.4 l-0.12 4.52 l-6.12 0 l0 7.64 l5.12 -0.44 l0.28 4.56 l-5.2 -0.08 l-0.28 5.8 l7.52 -0.28 z"></path>
            </g>
          </svg>
        </div>
      </div>
    </div>
  </div>
);

async function getData() {
  const notionService = new NotionService();
  return await notionService.getInfo();
}
interface Concert {
  name: string;
  date: string;
  time: string;
  price: string;
  direction: string;
}

export default async function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  const data = await getData();
  // @ts-ignore TODO fix this
  const concerts: Concert[] = data?.map((d) => {
    return Object.entries(d).reduce((acc, [key, value]) => {
      // @ts-ignore
      const valueText = value.rich_text?.[0]?.plain_text;
      if (valueText) {
        // @ts-ignore
        acc[key] = valueText;
      }
      return acc;
    }, {});
  });

  return (
    <html lang="en" className="[color-scheme:dark]">
      <head />
      <body className="flex h-screen items-center justify-center overflow-y-scroll bg-gray-1100 bg-[url('/grid.svg')]">
        <div>
          <h1 className="text-6xl font-medium text-gray-300">
            Blues cavaliers
          </h1>
          <p className="ml-1 mb-6">Una banda de blues acústico de Madríd</p>
          <div className="ml-1 mb-6">
            Próximos conciertos
            <ul>
              {concerts &&
                concerts.map(
                  (concert) =>
                    concert.name && (
                      <li key={concert.name} className="text-sm text-white">
                        {concert.date} -{concert.time} -{concert.name} - Precio:{' '}
                        {concert.price} -{' '}
                        <a
                          className="text-blue-500 underline"
                          target="_blank"
                          rel="noreferrer"
                          href={concert.direction}
                        >
                          Dirección
                        </a>
                      </li>
                    ),
                )}
            </ul>
          </div>

          <div className="flex">
            <a
              href="https://www.facebook.com/bluescavaliers"
              title="Facebook link"
            >
              {renderFacebookSVG()}
            </a>
            <a
              className="ml-2"
              href="https://www.instagram.com/cavaliersblues"
              title="Instagram link"
            >
              {renderInstagramSVG()}
            </a>
          </div>
        </div>
      </body>
    </html>
  );
}
